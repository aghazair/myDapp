{"remainingRequest":"C:\\vueproject\\mydapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\vueproject\\mydapp\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\vueproject\\mydapp\\src\\App.vue","mtime":1633972228624},{"path":"C:\\vueproject\\mydapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\vueproject\\mydapp\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\vueproject\\mydapp\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\vueproject\\mydapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\vueproject\\mydapp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGVzbGludC1kaXNhYmxlICovCi8vIGltcG9ydCBUb3BiYXIgZnJvbSAnLi9jb21wb25lbnRzL3RvcGJhci52dWUnOwovL2ltcG9ydCBNZW51IGZyb20gJy4vY29tcG9uZW50cy9tZW51LnZ1ZSc7CmltcG9ydCBXZWIzIGZyb20gJ3dlYjMnOwppbXBvcnQgQUJJIGZyb20gJy4vY29udHJhY3RzL2xlYXJuc3Rha2Vjb250cmFjdCcKY29uc3QgY29udHJhY3RBZGRyZXNzID0gJzB4MEU2MDBiQzk4NTBkYzhDNWI5MTVGNDI5ODhmNmVCQ0JmZDQ3NWZCMyc7CmNvbnN0IHdlYjMgPSBuZXcgV2ViMyh3aW5kb3cud2ViMy5jdXJyZW50UHJvdmlkZXIpOwpjb25zdCBteUNvbnRyYWN0ID0gIG5ldyB3ZWIzLmV0aC5Db250cmFjdChBQkksIGNvbnRyYWN0QWRkcmVzcyk7CgovL2NoZWNrIGlmIGFjY291bnQgaXMgY2hhbmdlZCBpbiBtZXRhbWFzawp3aW5kb3cuZXRoZXJldW0ub24oJ2FjY291bnRzQ2hhbmdlZCcsIGZ1bmN0aW9uIChhY2NvdW50cykgewogIGdldEFjY291bnQoKTsKCn0pOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAoKICBjb21wb25lbnRzOiB7CiAgIAogIH0sCiAgZGF0YSgpewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgbXNnOiAiTXkgRmlyc3QgREFQUCIKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgbWV0aG9kczp7CgogICAgICAgICAgYmlnbm5lcigpewogICAgICAgICAgICB1bkxvY2tNZW1iZXJzaHAoNTAwMCwgIkJpZ2VubmVyIik7CiAgICAgICAgICB9LAogICAgICAgICAgcHJvZmVzc2lvbmFsKCl7CiAgICAgICAgICAgIHVuTG9ja01lbWJlcnNocCgxMDAwMCwiUHJvZmVzc2lvbmFsIik7CiAgICAgICAgICB9LAogICAgICAgICAgZXhwZXJ0KCl7CiAgICAgICAgICAgIHVuTG9ja01lbWJlcnNocCgyNTAwMCwiRXhwZXJ0Iik7CiAgICAgICAgICB9LAogICAgICAgICAgd2l0aGRyYXcoKXsKICAgICAgICAgICAgICBhbGVydCgnd2l0aGRyYXcnKTsKICAgICAgICAgIH0sCiAgICAgICAgICBjb25uZWN0KCl7CiAgICAgICAgICAgICAgICB0cnl7CiAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnRuIikuaW5uZXJUZXh0ID09ICJDb25uZWN0ZWQiKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoIkFscmVhZHkgQ29ubmVjdGVkIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZ2V0QWNjb3VudCgpOwogCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaChlcnJvcil7CiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdXNlciBjYW5jZWxzIG1ldGFtYXNrIHJlcXVlc3QgCiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09IDQwMDEpewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTWV0YW1hc2sgQ29ubmVjdGlvbiBDYW5jZWxsZWQnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdW5hYmxlIHRvIHJlcXVzdCBhY2NvdW50IHByb21wdCB0byBpbnN0YWxsIG1ldGFtYXNrCiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdJbnN0YWxsIE1ldGFtYXNrIHRvIENvbm5lY3QnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgIH0KfQovLyB3aXRoZHJhdyAgc3Rha2VzCmFzeW5jIGZ1bmN0aW9uIHdpdGhkcmF3KGFtb3VudCkKewogIAogIGNvbnN0IGFjY291bnRzID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfcmVxdWVzdEFjY291bnRzJyB9KTsKICBjb25zdCBhY2NvdW50ID0gYWNjb3VudHNbMF07CiAgYXdhaXQgbXlDb250cmFjdC5tZXRob2RzLndpdGhkcmF3U3Rha2UoYW1vdW50KS5zZW5kKHtmcm9tOmFjY291bnR9KTsKICBnZXRBY2NvdW50RGV0YWlsKGFjY291bnQpOwoKfQoKLy8gZ2V0IGFjY291bnQgZGV0YWlsCmFzeW5jIGZ1bmN0aW9uIGdldEFjY291bnREZXRhaWwobXlBZGRyZXNzKQp7CiAgICBjb25zdCBhY2NvdW50cyA9IGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHsgbWV0aG9kOiAnZXRoX3JlcXVlc3RBY2NvdW50cycgfSk7CiAgICAKICAgICAgaWYoYWNjb3VudHNbMF0gIT0gbXlBZGRyZXNzKQogICAgICB7CiAgICAgICAgY29uc29sZS5sb2coIkVSUk9SOiBjb25uZWN0IG1ldGFtYXNrIGFnYWluISIpOwogICAgICB9CgogICAgICBjb25zdCBoYXNTdGFrZXMgPSBhd2FpdCBteUNvbnRyYWN0Lm1ldGhvZHMuaGFzU3Rha2UobXlBZGRyZXNzKS5jYWxsKCk7IAogICAgICAKICAgICAgY29uc3QgdG9rZW5OYW1lID0gYXdhaXQgbXlDb250cmFjdC5tZXRob2RzLm5hbWUoKS5jYWxsKCk7CiAgICAgIGNvbnN0IGFjY0JhbGFuY2UgPSBhd2FpdCBteUNvbnRyYWN0Lm1ldGhvZHMuYmFsYW5jZU9mKG15QWRkcmVzcykuY2FsbCgpOwoKICAgICAgdmFyIG1lbWJlcnNoaXBUeXBlID0gIk5vdCBhIE1lbWJlciI7IAogICAgCiAgICAgICAgaWYoaGFzU3Rha2VzID49NTAwMCAmJiBoYXNTdGFrZXMgPCAxMDAwMCkKICAgICAgICB7CiAgICAgICAgICAgIG1lbWJlcnNoaXBUeXBlID0gIkJlZ2lubmVyIjsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZihoYXNTdGFrZXMgPj0gMTAwMDAgJiYgaGFzU3Rha2VzIDwgMjUwMDApCiAgICAgICAgewogICAgICAgICAgICBtZW1iZXJzaGlwVHlwZSA9ICJQcm9mZXNzaW9uYWwiOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmKGhhc1N0YWtlcyA+PSAyNTAwMCkKICAgICAgICB7CiAgICAgICAgICBtZW1iZXJzaGlwVHlwZSA9ICJFeHBlcnQiOwogICAgICAgIH0KICAKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRldGFpbCIpLmlubmVySFRNTCA9ICJUb2tlbiBOYW1lIDogIisgdG9rZW5OYW1lICsiPGJyLz4gQ3VycmVudCBTdGFrZXM6ICIgKyBoYXNTdGFrZXMgKyI8YnIgLz4gQ3VycmVudCBNZW1iZXJzaGlwIFR5cGU6ICIgKyBtZW1iZXJzaGlwVHlwZTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRldGFpbCIpLmlubmVySFRNTCArPSAiPGJyLz4gQWNjb3VudCBCYWxuY2U6ICIrd2ViMy51dGlscy5mcm9tV2VpKGFjY0JhbGFuY2UsICdldGhlcicpIDsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRldGFpbCIpLmlubmVySFRNTCArPSAiPGJ1dHRvbiBpZD1cIndpdGhkcmF3XCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidy0xMDAgYnRuIGJ0bi1sZyBidG4tcHJpbWFyeVwiID5XaXRoZHJhdyBTdGFrZXM8L2J1dHRvbj4iOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgid2l0aGRyYXciKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCl7d2l0aGRyYXcoaGFzU3Rha2VzKX0sZmFsc2UpOwogICAgICAKCgp9CgovLyBnZXQgYWNjb3VudCBpbmZvCiAgYXN5bmMgZnVuY3Rpb24gZ2V0QWNjb3VudCgpIHsKICAgIGNvbnN0IGFjY291bnRzID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfcmVxdWVzdEFjY291bnRzJyB9KTsKICAgIGNvbnN0IGFjY291bnQgPSBhY2NvdW50c1swXTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidG4iKS5pbm5lclRleHQgPSAiQ29ubmVjdGVkIjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRyZXNzIikuaW5uZXJIVE1MID0gIkFjY291bnQgQ29ubmVjdGVkIDogIithY2NvdW50OwogICAgZ2V0QWNjb3VudERldGFpbChhY2NvdW50KTsKICAgIAogICAgfQoKLy8gdW5sb2NrIG1lbWJlcnNoaXAgYmFzZWQgb24gdHlwZSAKIGFzeW5jIGZ1bmN0aW9uIHVuTG9ja01lbWJlcnNocChhbW91bnQsIG1lbWJlclR5cGUpIAogewogICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnRuIikuaW5uZXJUZXh0ID09ICJDb25uZWN0IikKICAgIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIndhcm5pbmciKS5pbm5lckhUTUwgPSAiRmlyc3QgY29ubmVjdCB3aXRoIE1ldGFNYXNrIHVzaW5nIDxiPkNvbm5lY3Q8L2I+IEJ1dHRvbiEiOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgid2FybmluZyIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgfQogICAgZWxzZQogICAgewogICAgICBjb25zdCBhY2NvdW50cyA9IGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHsgbWV0aG9kOiAnZXRoX3JlcXVlc3RBY2NvdW50cycgfSk7CiAgICAgIGNvbnN0IGFjY291bnQgPSBhY2NvdW50c1swXTsKICAgICAgCiAgICAgIHZhciBiYWxhbmNlID0gYXdhaXQgbXlDb250cmFjdC5tZXRob2RzLmJhbGFuY2VPZihhY2NvdW50KS5jYWxsKCk7CiAgICAgIHZhciBfYmFsYW5jZSA9IHdlYjMudXRpbHMuZnJvbVdlaShiYWxhbmNlLCAnZXRoZXInKTsKCiAgICAgIGlmKF9iYWxhbmNlIDwgYW1vdW50KQogICAgICB7CiAgICAgICAgdmFyIHJlcUFtb3VudCA9ICBhbW91bnQtX2JhbGFuY2UgOwoKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgid2FybmluZyIpLmlubmVySFRNTCA9ICJJbnN1ZmZpY2llbnQgQmFsYW5jZSBmb3IgIittZW1iZXJUeXBlKyIgTWVtYmVyc2hpcCwgYnV5ICIrcmVxQW1vdW50KyIgIExSTiBUb2tlbnMhIjsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgid2FybmluZyIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgIAogICAgICB9CiAgICAgIGVsc2UgLy8gU3Rha2UgCiAgICAgIHsKICAgICAgICAgY29uc3QgaGFzU3Rha2VzID0gYXdhaXQgbXlDb250cmFjdC5tZXRob2RzLmhhc1N0YWtlKGFjY291bnQpLmNhbGwoKTsgCgogICAgICAgICAvL2NoZWNrIGlmIGFscmVhZHkgc3Rha2VkLgogICAgICAgIGlmKGhhc1N0YWtlcyA+IDApCiAgICAgICAgewogICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbmZvIikuaW5uZXJIVE1MID0gIkFscmVhZHkgc3Rha2VkICIraGFzU3Rha2VzICsiIFRva2VucyEiOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImluZm8iKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICB9CiAgICAgICAgZWxzZSAvLyBpZiBub3QgYWxyZWFkeSBzdGFrZWQKICAgICAgICB7CiAgICAgICAgICBjb25zb2xlLmxvZyhteUNvbnRyYWN0KTsKICAgICAgICAgICB2YXIgbXNnU2VuZGVyID0gYXdhaXQgbXlDb250cmFjdC5tZXRob2RzLmdldFNlbmRlcigpLmNhbGwoKTsKICAgICAgICAgICBjb25zb2xlLmxvZygibWVzc2FnZSBzZW5kZXIgOiIrbXNnU2VuZGVyKTsKICAgICAgICAgICB2YXIgbXNnU2VuZGVyQmFsYW5jZSA9IGF3YWl0IG15Q29udHJhY3QubWV0aG9kcy5nZXRTZW5kZXJCYWxhbmNlKCkuY2FsbCgpOwogICAgICAgICAgIGNvbnNvbGUubG9nKCJtZXNzYWdlIHNlbmRlciBiYWxhbmNlIik7CgogICAgICAgICAgY29uc29sZS5sb2coYW1vdW50KTsKICAgICAgICAgIHRyeXsKICAgICAgICAgICAgIAogICAgICAgICAgICAgIHZhciBzdGFrZWQgPSBhd2FpdCBteUNvbnRyYWN0Lm1ldGhvZHMuc3Rha2UoYW1vdW50KS5zZW5kKHtmcm9tOmFjY291bnR9KTsKICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5mbyIpLmlubmVySFRNTCA9ICJNZW1iZXJzaGlwIFVubG9ja2VkIFN1Y2Nlc3NmdWxseSEiOwogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbmZvIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgICB9CiAgICAgICAgICBjYXRjaChlKQogICAgICAgICAgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgfQogICAgICAgICAgY29uc29sZS5sb2cod2ViMy51dGlscy50b1dlaShhbW91bnQudG9TdHJpbmcoKSwnZXRoZXInKSk7CiAgICAgICAgfQoKICAgICAgfSAKICAgICAgCiAgICAgIGdldEFjY291bnREZXRhaWwoYWNjb3VudCk7CiAKICAgIH0KICAKICAvLyAgcmV0dXJuIGxlYXJuQ29udHJhY3Q7Cn0KCgoKLyogZXNsaW50LWVuYWJsZSAqLwo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;;;AAIA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <header>\n    <div class=\"d-flex flex-column flex-md-row align-items-center pb-3 mb-4 border-bottom\">\n      \n        <span class=\"fs-4\">Learn Token</span>\n      \n\n     <nav class=\"d-inline-flex mt-2 mt-md-0 ms-md-auto\">\n         <div class=\"c_topbar\">\n        <button id=\"btn\" class=\"w-100 btn btn-lg btn-primary\" @click=\"connect\" type=\"button\">Connect</button>\n        <div id='address'></div>\n\n        </div>\n      </nav>\n      <div></div>\n    </div>\n    <div id=\"warning\" class=\"alert alert-danger hide\" role=\"alert\"></div>\n    <div id=\"info\" class=\"alert alert-info hide\" role=\"alert\"></div>\n    </header>\n    <div class=\"container py-3\">\n    <header>\n      <div class=\"pricing-header p-3 pb-md-4 mx-auto text-center\">\n        <h1 class=\"display-4 fw-normal\">My First DAPP</h1>\n      </div>\n    </header>\n\n    <main>\n    <section class=\"py-5 text-center container\">\n        <div class=\"row py-lg-5\">\n          <div class=\"col-lg-6 col-md-8 mx-auto\">\n            <h1 class=\"fw-light\">Stake Details</h1>\n            <p class=\"lead text-muted\" id=\"detail\"></p>\n            \n          </div>\n        </div>\n      </section>\n\n      <div class=\"row row-cols-1 row-cols-md-3 mb-3 text-center\">\n        <div class=\"col\">\n          <div class=\"card mb-4 rounded-3 shadow-sm\">\n            <div class=\"card-header py-3\">\n              <h4 class=\"my-0 fw-normal\">Beginner</h4>\n            </div>\n            <div class=\"card-body\">\n              <h1 class=\"card-title pricing-card-title\">5000<small class=\"text-muted fw-light\">LRN</small></h1>\n              <ul class=\"list-unstyled mt-3 mb-4\">\n                <li>Feature 1</li>\n                <li>Feature 2</li>\n                \n              </ul>\n              <button type=\"button\" class=\"w-100 btn btn-lg btn-outline-primary\" @click=\"bignner\">Unlock</button>\n            </div>\n          </div>\n        </div>\n        <div class=\"col\">\n          <div class=\"card mb-4 rounded-3 shadow-sm\">\n            <div class=\"card-header py-3\">\n              <h4 class=\"my-0 fw-normal\">Professional</h4>\n            </div>\n            <div class=\"card-body\">\n              <h1 class=\"card-title pricing-card-title\">10000<small class=\"text-muted fw-light\">LRN</small></h1>\n              <ul class=\"list-unstyled mt-3 mb-4\">\n                <li>Feature 1</li>\n                <li>Feature 2</li>\n                <li>Feature 3</li>\n                \n                \n              </ul>\n              <button type=\"button\" class=\"w-100 btn btn-lg btn-primary\" @click=\"professional\">Unlock</button>\n            </div>\n          </div>\n        </div>\n        <div class=\"col\">\n          <div class=\"card mb-4 rounded-3 shadow-sm border-primary\">\n            <div class=\"card-header py-3 text-white bg-primary border-primary\">\n              <h4 class=\"my-0 fw-normal\">Expert</h4>\n            </div>\n            <div class=\"card-body\">\n              <h1 class=\"card-title pricing-card-title\">25000<small class=\"text-muted fw-light\">LRN</small></h1>\n              <ul class=\"list-unstyled mt-3 mb-4\">\n                <li>Feature 1</li>\n                <li>Feature 2</li>\n                <li>Feature 3</li>\n                <li>Feature 4</li>\n              </ul>\n              <button type=\"button\" class=\"w-100 btn btn-lg btn-primary\" @click=\"expert\">Unlock</button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      \n      </main>\n\n    </div>\n    \n  </div>\n</template>\n\n\n<script>\n/* eslint-disable */\n// import Topbar from './components/topbar.vue';\n//import Menu from './components/menu.vue';\nimport Web3 from 'web3';\nimport ABI from './contracts/learnstakecontract'\nconst contractAddress = '0x0E600bC9850dc8C5b915F42988f6eBCBfd475fB3';\nconst web3 = new Web3(window.web3.currentProvider);\nconst myContract =  new web3.eth.Contract(ABI, contractAddress);\n\n//check if account is changed in metamask\nwindow.ethereum.on('accountsChanged', function (accounts) {\n  getAccount();\n\n});\n\nexport default {\n  name: 'App',\n\n  components: {\n   \n  },\n  data(){\n            return {\n                msg: \"My First DAPP\"\n            }\n        },\n  methods:{\n\n          bignner(){\n            unLockMembershp(5000, \"Bigenner\");\n          },\n          professional(){\n            unLockMembershp(10000,\"Professional\");\n          },\n          expert(){\n            unLockMembershp(25000,\"Expert\");\n          },\n          withdraw(){\n              alert('withdraw');\n          },\n          connect(){\n                try{\n                         \n                    if(document.getElementById(\"btn\").innerText == \"Connected\")\n                    {\n                        alert(\"Already Connected\");\n                        return;\n                    }\n                    getAccount();\n \n                }\n                catch(error){\n                    // if user cancels metamask request \n                    if (error.code === 4001){\n                        console.log('Metamask Connection Cancelled');\n                    }\n                    else {\n                        console.log(error);\n                        // if unable to requst account prompt to install metamask\n                        alert('Install Metamask to Connect');\n                    }\n                }\n            }\n\n      }\n}\n// withdraw  stakes\nasync function withdraw(amount)\n{\n  \n  const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n  const account = accounts[0];\n  await myContract.methods.withdrawStake(amount).send({from:account});\n  getAccountDetail(account);\n\n}\n\n// get account detail\nasync function getAccountDetail(myAddress)\n{\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n    \n      if(accounts[0] != myAddress)\n      {\n        console.log(\"ERROR: connect metamask again!\");\n      }\n\n      const hasStakes = await myContract.methods.hasStake(myAddress).call(); \n      \n      const tokenName = await myContract.methods.name().call();\n      const accBalance = await myContract.methods.balanceOf(myAddress).call();\n\n      var membershipType = \"Not a Member\"; \n    \n        if(hasStakes >=5000 && hasStakes < 10000)\n        {\n            membershipType = \"Beginner\";\n        }\n        else if(hasStakes >= 10000 && hasStakes < 25000)\n        {\n            membershipType = \"Professional\";\n        }\n        else if(hasStakes >= 25000)\n        {\n          membershipType = \"Expert\";\n        }\n  \n      document.getElementById(\"detail\").innerHTML = \"Token Name : \"+ tokenName +\"<br/> Current Stakes: \" + hasStakes +\"<br /> Current Membership Type: \" + membershipType;\n      document.getElementById(\"detail\").innerHTML += \"<br/> Account Balnce: \"+web3.utils.fromWei(accBalance, 'ether') ;\n      document.getElementById(\"detail\").innerHTML += \"<button id=\\\"withdraw\\\" type=\\\"button\\\" class=\\\"w-100 btn btn-lg btn-primary\\\" >Withdraw Stakes</button>\";\n      document.getElementById(\"withdraw\").addEventListener(\"click\", function(){withdraw(hasStakes)},false);\n      \n\n\n}\n\n// get account info\n  async function getAccount() {\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n    const account = accounts[0];\n    document.getElementById(\"btn\").innerText = \"Connected\";\n    document.getElementById(\"address\").innerHTML = \"Account Connected : \"+account;\n    getAccountDetail(account);\n    \n    }\n\n// unlock membership based on type \n async function unLockMembershp(amount, memberType) \n {\n   if(document.getElementById(\"btn\").innerText == \"Connect\")\n    {\n      document.getElementById(\"warning\").innerHTML = \"First connect with MetaMask using <b>Connect</b> Button!\";\n      document.getElementById(\"warning\").style.display = \"block\";\n    }\n    else\n    {\n      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n      const account = accounts[0];\n      \n      var balance = await myContract.methods.balanceOf(account).call();\n      var _balance = web3.utils.fromWei(balance, 'ether');\n\n      if(_balance < amount)\n      {\n        var reqAmount =  amount-_balance ;\n\n        document.getElementById(\"warning\").innerHTML = \"Insufficient Balance for \"+memberType+\" Membership, buy \"+reqAmount+\"  LRN Tokens!\";\n        document.getElementById(\"warning\").style.display = \"block\";\n        \n      }\n      else // Stake \n      {\n         const hasStakes = await myContract.methods.hasStake(account).call(); \n\n         //check if already staked.\n        if(hasStakes > 0)\n        {\n           document.getElementById(\"info\").innerHTML = \"Already staked \"+hasStakes +\" Tokens!\";\n          document.getElementById(\"info\").style.display = \"block\";\n        }\n        else // if not already staked\n        {\n          console.log(myContract);\n           var msgSender = await myContract.methods.getSender().call();\n           console.log(\"message sender :\"+msgSender);\n           var msgSenderBalance = await myContract.methods.getSenderBalance().call();\n           console.log(\"message sender balance\");\n\n          console.log(amount);\n          try{\n             \n              var staked = await myContract.methods.stake(amount).send({from:account});\n              document.getElementById(\"info\").innerHTML = \"Membership Unlocked Successfully!\";\n              document.getElementById(\"info\").style.display = \"block\";\n          }\n          catch(e)\n          {\n              console.log(e);\n          }\n          console.log(web3.utils.toWei(amount.toString(),'ether'));\n        }\n\n      } \n      \n      getAccountDetail(account);\n \n    }\n  \n  //  return learnContract;\n}\n\n\n\n/* eslint-enable */\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  \n}\n\n\n.hide{\n  display: none;\n\n}\n</style>\n"]}]}